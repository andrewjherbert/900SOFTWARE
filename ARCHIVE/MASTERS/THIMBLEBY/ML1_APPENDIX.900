

                  USING ML/I ON THE 900 SERIES
                  ============================

  THIS DOCUMENT SHOULD BE KEPT WITH THE ML/I USER'S MANUAL,  TO WHICH
                       IT IS AN APPENDIX.

                     PART 1 - SPECIFICATION
                     **********************

(1)
RESTRICTIONS AND ADDITIONS.

  THE 900 SERIES ML/I CONTAINS ALL THE FEATURES DESCRIBED IN THE
ML/I USER'S MANUAL (4TH. EDITION, AUGUST 1970), PLUS NEW FEATURES
1 TO 5 AS DESCRIBED IN THE MANUAL.
  LOWER CASE LETTERS ARE NOT DISTINGUISHED FROM CAPITALS.


(2)
OPERATING INSTRUCTIONS.

  TO RUN ML/I FROM RADOS, TYPE:-
      &MLI,<OUTPUT FILE>,<INPUT-FILE>[,<INPUT FILE>];
WHERE THE OUTPUT FILE IS EITHER A NAME OR A DIGIT 0 TO 9 INCLUSIVE
REFERING TO A CHANNEL NUMBER.  CHANNEL 0 IS RESERVED TO MEAN THAT
OUTPUT WILL BE SUPPRESSED.  THE INPUT FILE MUST BE A FILE NAME OR
A NUMBER 1 TO 9 INCLUSIVE.
  ALL ERROR MESSAGES ARE DIRECTED TO THE ON-LINE TELEPRINTER.

  TO RUN ML/I AS A STAND ALONE PROGRAM:-
      LOAD THE SCB TAPE UNDER INITIAL INSTRUCTIONS AND ENTER AT 8.
INPUT AND OUTPUT DEFAULT TO THE PAPER TAPE READER AND PUNCH, WHILE
ERROR MESSAGES ARE PRINTED ON THE ON-LINE TELEPRINTER.


(3)
CHARACTER SET.

  ML/I USES THE FULL SIR CHARACTER SET;  THUS LOWER CASE AND UPPER
CASE LETTERS ARE NOT DISTINGUISHED.  HOWEVER TABS MAY BE READ FROM THE
TELEPRINTER OR READER.

(4)
ERROR MESSAGES.

  ALL ERROR MESSAGES ARE NORMALLY SENT TO THE ON-LINE TELEPRINTER,
THOUGH THIS MAY BE CHANGED AT MACRO TIME.
  ILLEGAL PARITY CHARACTERS ARE REPLACED WITH THE ERROR CHARACTER
(SEE SECTION 6.3.3) WHICH IS A QUESTION MARK.
  THE NUMBER IN SECTION 6.2(F) OF THE MANUAL IS 60 AND THE MESSAGE
OF SECTION 6.3.12 IS GIVEN AT THE ENF OF EACH PROCESS.  IF ANY ERRORS
ARE DETECTED S6 IS INCREMENTED.  IF AT THE END OF PROCESSING S6 IS
NON ZERO A FULL LISTING OF THE ENVIRONMENT WILL BE GIVEN.
  THERE ARE SEVERAL ERROR MESSAGES NOT MENTIONED IN THE MANUAL:

  -   OUTPUT SIZE LIMIT EXCEEDED
S5 SPECIFIES THE MAXIMUM SIZE OF THE OUTPUT FILE (SEE BELOW), IF
THE SIZE IS EXCEEDED THE PROCESS IS ABORTED.  S5 MAY BE CHANGED AT ANY
POINT.

  -   OUTPUT FILE TERMINATED
A RADOS FILE IS TERMINATED BY A LINEFEED CHARACTER FOLLOWED BY A
RIGHT BRACKET.  IF THIS SEQUENCE OCCURS THE OUTPUT FILE IS CLOSED AND
ANY FURTHER OUTPUT, EXCEPTING NEWLINES, WILL BE TAKEN AS AN ERROR.

  -   (FILE NAME) DOES NOT EXIST
AN ATTEMPT HAS BEEN MADE TO TAKE INPUT FROM THE SPECIFIED FILE, WHICH
IS NOT IN THE DIRECTORY.

  -   (FILE NAME) ALREADY EXISTS
AN ATTEMPT HAS BEEN MADE TO CREATE A FILE THAT ALREADY EXISTS.
ALL OUTPUT WILL BE LOST,  BUT ML/I WILL NOT BE ABORTED SO ERROR
MESSAGES WILL BE OBTAINED.

  -   PARAMETER MISSING
A PARAMETER IN THE RADOS COMMAND IS MISSING.

  -   BAD PARAMETER - (PARAMETER)
THE SPECIFIED RADOS PARAMETER HAS AN ILLEGAL FORMAT.

(5)
INTEGER CALCULATIONS.

  THE INITIAL ENVIRONMENT CONTAINS TEN PERMANENT AND SYSTEM VARIABLES.
THE PERMANENT VARIABLES ARE EACH PRESET TO ZERO.
  ALL NUMBERS IN OR DERIVED FROM MACRO EXPRESSIONS MUST BE LESS THAN
131072 IN ABSOLUTE MAGNITUDE.
  OVERFLOW IS ALWAYS DETECTED.

(6)
LAYOUT KEYWORDS.

  ALL KEYWORDS MENTIONED IN THE MANUAL HAVE BEEN IMPLEMENTED.

(7)
SYSTEM VARIABLES.

  THE S-VARIABLES ARE ALLOCATED AS FOLLOWS:

------------------------------------------------------------------------
 SYSTEM  I                     USE                             I INITIAL
VARIABLE I       (FOR S1 TO S4 - SEE MANUAL SUPPLEMENTS)       I  VALUE
---------+-----------------------------------------------------+--------
  S1     I  USE OF START LINE FACILITY                         I    0
  S2     I  LINE NUMBER                                        I    0
  S3     I  WARNING MARKER ERROR MAEESAGES CONTROL             I    0
  S4     I  MCNOTE ENVIRONMENT CONTROL                         I    0
  S5     I  MAXIMUM SIZE OF OUTPUT FILE IN 100S OF CHARACTERS  I  100
  S6     I  CUMULATIVE COUNT OF ERRORS                         I    0
  S7     I  LENGTH OF ERROR MESSAGE LINES IN CHARACTERS        I   72
  S8     I  INPUT FILE DEVICE NUMBER                           I
  S9     I  OUTPUT FILE DEVICE NUMBER                          I
  S10    I  ERROR MESSAGES FILE DEVICE NUMBER                  I    3
------------------------------------------------------------------------



                       PART 2 - BUGS
                       *************

*   HARD TO FIX
+   LIKELY TO REMAIN


+  SYSTEM VARIABLES MAY TAKE ON CONCEPTUAL VALUES OUTSIDE THE
   RANGE -131071 TO +131071.

   CHANNEL NUMBERS ARE NOT CHECKED FOR VALIDITY.

+  LOWER CASE LETTERS ARE NOT DISTINGUISHED.

+  DISC FILING ERROR MESSAGES AFTER FILE OPENED DO NOT MENTION FILE
   NAMES OR DEVICES.

*+ THE VALUE -131072 IS ILLEGAL.

+  DEBUGGING FILE CANNOT BE REDIRECTED FROM THE RADOS COMMAND.



              PART 3 - IMPLEMENTATION DETAILS
              *******************************

TO USE ML/I CERTAIN CHANGES ARE REQUIRED TO THE STANDARD 900  EXECUTIVE:

  IN QCHIN:
    - INVALID CHARACTERS SHOULD BE READ AS -1
    - TAB CODES SHOULD BE READ AS &40005
  IN QCHOP:
    - QDOUT MAY LEGALLY BE ZERO (TO LOOSE OUTPUT)
    - OUTPUT &40005 AS A TAB CHARCATER

ML/I MUST BE LOADED WITH THE FOLLOWING PROGRAMS:

     THE DISC FILING ROUTINES
     QFCHOP QFCHIN
     RADOS COMMAND ROUTINES
     EX900  (WITH EXTENSIONS)
     FREESTORE PROGRAM

THE FREESTORE PROGRAM MUST BE LOADED AT A HIGHER ADDRESS THAN THE
ML/I PROGRAM,  AND HAVE THE FOLLOWING TEXT (OR EQUIVALENT)


           [FFPTX LFPTX]

           FFPTX
                >+3000
           LFPTX

           %

THE SIZE OF THE SKIP SHOULD BE AS LARGE AS POSSIBLE,  AND MAY SPAN
SEVERAL MODULES.

IF REQUIRED,  THE INPUT/OUTPUT ROUTINES IN ML/I COULD BE CHANGED.
THE ONLY INPUT ROUTINE IS "MDREAD" WHICH RETURNS A SINGLE
CHARACTER IN THE ML/I INTERNAL CODE.
THE ONLY OUTPUT ROUTINE IS "MDOUCH" WHICH OUTPUTS A SINGLE
CHARACTER IN THE INTERNAL CODE.  BEWARE OF THE DEPENDECIES
BETWEEN "MDOUCH",  "MDERCH" AND "MESS" IF ANY CHANGES ARE
CONTEMPLATED.

  THE INTERNAL CODE USES HIGH ORDER BITS TO DEFINE THE TYPE OF
CHARACTER AS FOLLOWS:
          &500000        ADDED TO SIR CODED PUNCTUATION CHARACTERS
          &600000                 SIR       LETTERS
          &000000                 DIGITS, REPRESENTED DIRECTLY
          &540000                 0    STOP CODE
                                  1    START OF LINE
                                  2    NULL
                                  3    END OF SOURCE
                                  4    START OF SOURCE
                                  5    TABULATION CODE
  NEW CHARACTERS CAN BE ADDED TO THIS IMPLEMENTATION SIMPLY BY
CONTINUING FROM &540005,  SO LONG AS THE TOP SIX BITS ARE NOT
AFFECTED.  LOWER CASE LETTERS CAN BE REPRESENTED BY ADDING THE
ASCII CODE (SAY) TO &640000.  ADDITIONAL DIGITS SHOULD NOT BE
ADDED TO THE SYSTEM.





                           HAROLD THIMBLEBY

DEPARTMENT OF DESIGN RESEARCH             DEPARTMENT OF COMPUTER SCIENCE
ROYAL COLLEGE OF ART                                  QUEEN MARY COLLEGE
LONDON                                                            LONDON

                           13  OCTOBER 1976

<! Halt !>